# منصة أكوام - نسخة من موقع AK.SV للأفلام والمسلسلات

## نظرة عامة

هذه منصة إعلامية شاملة مستوحاة من موقع AK.SV الأصلي، تتضمن المحتوى العربي مثل الأفلام والمسلسلات والبرامج التلفزيونية ومختلف وسائل الترفيه. التطبيق مبني باستخدام تقنيات الويب الحديثة ويتبع هيكل full-stack مع واجهة React أمامية وخادم Express خلفي.

## تفضيلات المستخدم

أسلوب التواصل المفضل: لغة بسيطة ومفهومة.
نهج التطوير: البدء بالميزات الأساسية والبناء التدريجي.
الأولوية: التركيز على الأصالة لتصميم ووظائف موقع AK.SV الأصلي.
اللغة: العربية - المستخدم يفضل التواصل باللغة العربية
تفضيل التصميم: طراز 2025 الحديث مع تدرجات زرقاء/خضراء (وليس طراز 2024)
الطلب: نسخة كاملة من AK.SV مع طراز 2025 الحديث

## هيكل النظام

### هيكل الواجهة الأمامية
- **إطار العمل**: React 18 مع TypeScript
- **التصميم**: 
  - Tailwind CSS للتصميم الحديث والمساعد
  - CSS مخصص لعناصر التصميم الخاصة بـ AK.SV
  - خطوط AK.SV الأصلية (STC-Bold, STC-Regular, STC-Light)
- **إدارة الحالة**: React Query لإدارة حالة الخادم
- **التوجيه**: Wouter للتوجيه الخفيف من جانب العميل
- **مكونات الواجهة**: مكونات Radix UI مع تصميم shadcn/ui
- **دعم اللغة**: دعم كامل للعربية RTL مع احتياط إنجليزي

### هيكل الخادم الخلفي
- **بيئة التشغيل**: Node.js مع Express.js
- **اللغة**: TypeScript لسلامة الأنواع
- **قاعدة البيانات**: نظام ملفات JSON مع إمكانية الترحيل إلى PostgreSQL
- **المصادقة**: نظام مصادقة قائم على JWT
- **تصميم API**: RESTful API مع معالجة أخطاء منظمة

## المكونات الرئيسية

### 1. نظام إدارة المحتوى
- **أنواع المحتوى**: أفلام، مسلسلات، برامج تلفزيونية، برامج، ألعاب، تطبيقات، مسرح، مصارعة، رياضة
- **البيانات الوصفية**: العنوان (عربي/إنجليزي)، الوصف، التقييمات، تواريخ الإصدار، الجودة، اللغة، البلد
- **الأصول الإعلامية**: صور البوستر، صور الخلفية، العروض الترويجية
- **الفئات**: عربي، أجنبي، هندي، تركي، كوري، يمني، مصري، خليجي، سوري، لبناني
- **الأنواع**: أكشن، كوميديا، دراما، رومانسي، رعب، إثارة، وثائقي، رسوم متحركة، إلخ.

### 2. نظام المستخدمين
- **المصادقة**: وظائف تسجيل الدخول/الخروج مع رموز JWT
- **ملفات المستخدمين**: المعلومات الشخصية، التفضيلات، الصورة الرمزية
- **ميزات المستخدم**: المفضلة، تاريخ المشاهدة، التعليقات، المراجعات
- **الأدوار**: مدير، مستخدم، مشرف مع الصلاحيات المناسبة

### 3. البحث والاستكشاف
- **البحث المتقدم**: فلترة متعددة المعايير حسب النوع، الفئة، النوع، السنة، التقييم، الجودة
- **البحث الفوري**: اقتراحات بحث ديناميكية مع دعم العربية
- **خيارات الترتيب**: حسب التاريخ، التقييم، الشعبية، الأبجدية
- **التقسيم**: تصفح المحتوى بكفاءة مع وظيفة تحميل المزيد

### 4. البث والتحميل
- **روابط البث**: بث الفيديو المباشر مع خيارات جودة متعددة
- **روابط التحميل**: خيارات تحميل متعددة بمستويات جودة مختلفة
- **إدارة الحلقات**: المسلسلات مع تنظيم الموسم والحلقة
- **خيارات الجودة**: دعم HD، Full HD، 4K

### 5. لوحة تحكم الإدارة
- **إدارة المحتوى**: إضافة، تعديل، حذف المحتوى مع بيانات وصفية غنية
- **إدارة المستخدمين**: أدوات إدارة المستخدمين والإشراف
- **التحليلات**: إحصائيات الموقع، مقاييس تفاعل المستخدمين
- **إعدادات الموقع**: إدارة التكوين للإعدادات على مستوى الموقع

## تدفق البيانات

### 1. توصيل المحتوى
1. المستخدم يطلب المحتوى من الواجهة الأمامية
2. الواجهة الأمامية تستعلم نقاط API الخلفية
3. الخادم الخلفي يسترجع البيانات من قاعدة بيانات JSON
4. البيانات تُفلتر وتُرتب وتُقسم
5. الاستجابة تُرسل إلى الواجهة الأمامية مع الترجمة العربية المناسبة
6. الواجهة الأمامية تعرض المحتوى مع تصميم RTL المناسب

### 2. مصادقة المستخدم
1. المستخدم يرسل بيانات تسجيل الدخول
2. الخادم الخلفي يتحقق من البيانات مقابل قاعدة بيانات المستخدمين
3. رمز JWT يُنشأ ويُرسل إلى العميل
4. الرمز يُحفظ في العميل للطلبات اللاحقة
5. المسارات المحمية تتحقق من الرمز في كل طلب

### 3. عملية البحث
1. المستخدم يدخل استعلام البحث باللغة العربية أو الإنجليزية
2. الواجهة الأمامية تؤخر الإدخال وترسل الاستعلام إلى الخادم الخلفي
3. الخادم الخلفي يؤدي بحث نص كامل عبر عناوين ووصف المحتوى
4. النتائج تُفلتر بالمرشحات النشطة (النوع، الفئة، النوع، إلخ.)
5. النتائج المقسمة تُرجع مع البيانات الوصفية

## التبعيات الخارجية

### تبعيات الإنتاج
- **الإطار الأساسي**: React، Express، TypeScript
- **قاعدة البيانات**: تكامل محتمل مع Neon Database (PostgreSQL)
- **المصادقة**: معالجة JWT مع bcrypt لأمان كلمات المرور
- **مكونات الواجهة**: نظام Radix UI البيئي للمكونات القابلة للوصول
- **التصميم**: Tailwind CSS مع تكامل الخط العربي المخصص
- **معالجة الوسائط**: دعم لتنسيقات الصور والفيديو المختلفة

### تبعيات التطوير
- **أدوات البناء**: Vite للتطوير والبناء السريع
- **جودة الكود**: ESLint، مترجم TypeScript
- **أدوات قاعدة البيانات**: Drizzle ORM لإدارة قاعدة البيانات

### التكاملات الطرف الثالث
- **تخزين الوسائط**: نظام قائم على الملفات مع إمكانية الترحيل إلى التخزين السحابي
- **واجهات API خارجية**: تكامل TMDB/IMDB للبيانات الوصفية للأفلام
- **الميزات الاجتماعية**: قدرات مشاركة وسائل التواصل الاجتماعي
- **معالجة الدفع**: تكامل Stripe للميزات المتميزة المحتملة

## استراتيجية النشر

### بيئة التطوير
- **التطوير المحلي**: خادم Vite dev مع إعادة التحميل السريع
- **قاعدة البيانات**: ملف JSON محلي مع نسخ احتياطية تلقائية
- **خدمة الملفات**: خدمة ملفات Express الثابتة لأصول الوسائط

### نشر الإنتاج
- **المنصة**: محسن لنشر Replit
- **قاعدة البيانات**: ترحيل تلقائي إلى PostgreSQL عند الحاجة
- **الأصول الثابتة**: خدمة فعالة لـ CSS والخطوط والصور
- **الأداء**: حجم حزمة محسن واستراتيجيات التحميل

### اعتبارات الأمان
- **تحديد المعدل**: مطبق لنقاط API والمصادقة
- **التحقق من الإدخال**: التحقق من جانب الخادم لجميع مدخلات المستخدم
- **CORS**: تكوين مناسب لمشاركة الموارد عبر الأصول
- **المصادقة**: معالجة آمنة لرموز JWT مع انتهاء صلاحية مناسب

### ميزات القابلية للتوسع
- **قاعدة البيانات**: مصممة للترحيل السهل من JSON إلى PostgreSQL
- **التخزين المؤقت**: استراتيجيات تخزين مؤقت فعالة للمحتوى الذي يتم الوصول إليه بكثرة
- **تحسين الوسائط**: تحسين الصور والفيديو لتحميل أسرع
- **تصميم API**: هيكل RESTful يدعم تطبيقات المحمول المستقبلية

## التغييرات الأخيرة

- **الترحيل إلى بيئة Replit (يناير 2025)**: تم ترحيل المشروع بنجاح من Replit Agent إلى بيئة Replit القياسية
- **هيكل Full-Stack حديث**: تم تنفيذ فصل صحيح بين العميل/الخادم مع واجهة React أمامية وخادم Express خلفي
- **نظام التخزين**: تم إنشاء نظام تخزين في الذاكرة يتبع نمط واجهة IStorage لسهولة ترحيل قاعدة البيانات
- **مكتبة المكونات**: تم دمج مكونات shadcn/ui مع Tailwind CSS لنظام تصميم حديث
- **مسارات API**: تم إعادة هيكلة مسارات الخادم الخلفي لاستخدام واجهة تخزين مناسبة مع التحقق
- **تحسينات الأمان**: تم إضافة التحقق من الإدخال، تحديد المعدل، ومعالجة الأخطاء المناسبة
- **مكونات واجهة مستخدم حديثة**: تم إنشاء مكونات Header وFooter وLayout قابلة لإعادة الاستخدام
- **تكامل React Query**: تم إعداد جلب البيانات المناسب مع TanStack Query
- **تحديث التصميم إلى طراز 2025 الحديث مع موضوع التدرج الأزرق/الأخضر
- **استبدال نظام الألوان البرتقالي بتدرجات الأزرق المعاصر (#007bff) والأخضر (#28a745)  
- **تحسين الرسوم المتحركة وتأثيرات التمرير مع تحسين التغذية الراجعة البصرية
- **تحديث جميع الشعارات وعناصر واجهة المستخدم لتتناسب مع الجمالية الحديثة
- **تحسين الطباعة مع تأثيرات النص المتدرج للعناوين
- **إضافة تأثيرات ضبابية وظلال أكثر تطورًا للخلفية

## تحليل الملفات المستخرجة

بعد فحص مجلدات `extracted_files/` و `ak_sv_site_extracted/`، تتضمن النتائج الرئيسية:

### هيكل الموقع الأصلي
- **الصفحة الرئيسية**: تخطيط نظيف مع قسم البطل والبحث وبطاقات الفئات
- **نظام الخطوط**: يستخدم خطوط STC (Bold، Regular، Light) عبر @font-face
- **نظام الألوان**: كان برتقالي في الأصل (#f3951e) - الآن محدث إلى تدرجات زرقاء/خضراء حديثة
- **التخطيط**: تصميم متجاوب قائم على Bootstrap مع CSS مخصص
- **التنقل**: رأس ثابت مع تبديل القائمة وروابط اجتماعية

### هيكل CSS
- **style.css**: أنماط أساسية مع مرافق متجاوبة واسعة
- **akwam.css**: تخصيصات وتجاوزات خاصة بالموقع
- **plugins.css**: أنماط إضافات الطرف الثالث
- **home.css**: تصميم خاص بالصفحة الرئيسية

### هيكل المحتوى
- **الأفلام**: صفحات أفلام فردية مع بيانات وصفية، تقييمات، روابط تحميل
- **المسلسلات**: تنظيم الموسم/الحلقة مع خيارات البث
- **البرامج**: برامج تلفزيونية وبرامج
- **المنوعات**: أنواع محتوى متنوعة (ألعاب، تطبيقات، مسرح، رياضة)

### الميزات الرئيسية المحددة
- بحث متقدم مع فلترة
- نظام مصادقة المستخدم
- نظام التقييم والمراجعة
- إدارة روابط التحميل/البث
- معالجة الصور المتجاوبة
- تكامل وسائل التواصل الاجتماعي
- تحسين SEO مع بيانات منظمة

يحافظ التطبيق على تجربة AK.SV الأصيلة مع توفير جمالية 2025 الحديثة وقاعدة كود قابلة للصيانة يمكن أن تتسع مع متطلبات المستخدمين المتزايدة ومتطلبات المحتوى.