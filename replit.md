# مشروع AK.SV - نسخة يمنية من موقع اكوام

## نظرة عامة
هذا مشروع منصة أفلام ومسلسلات عربية تحاكي تصميم ووظائف موقع ak.sv الأصلي. المشروع يستخدم تقنيات حديثة مع تصميم يمني أصيل.

## الحالة الحالية (16 يوليو 2025 - التحديث الأخير - إضافة الميزات المتقدمة)
- ✅ **المشروع يعمل بنجاح** - الخادم يعمل على المنفذ 5000
- ✅ **قاعدة البيانات محلية** - يستخدم serverdb/database.json مع 24 محتوى
- ✅ **واجهة عربية كاملة** - RTL مع تصميم ak.sv الأصلي
- ✅ **الأقسام الموجودة**: أفلام، مسلسلات، تلفزيون، منوعات
- ✅ **الأقسام الجديدة المضافة**: البرامج والكورسات، الألعاب، التطبيقات، المسرحيات، المصارعة، الرياضة
- ✅ **نظام المراجعات والتقييمات** - يعمل بشكل كامل
- ✅ **البحث والفلاتر** - فلاتر متقدمة للمحتوى
- ✅ **الهيدر المبسط** - تم حذف شريط التنقل الفرعي (المنوعات، البرامج، الألعاب، إلخ)
- ✅ **LoadingSpinner مُصلح** - يعمل بشكل صحيح في جميع الصفحات الجديدة
- ✅ **صفحة "أُضيف حديثاً"** - `/recent` مع فلاتر متقدمة للمحتوى الجديد
- ✅ **صفحة المشاهدة** - `/watch` مع مشغل فيديو ونظام تبليغ
- ✅ **الفلاتر المتقدمة** - component شامل للفلاتر حسب الموقع الأصلي
- ✅ **رابط "أُضيف حديثاً"** - مُضاف للهيدر مع أيقونة الساعة

## الأقسام المفقودة من الموقع الأصلي
بعد البحث عن ak.sv الأصلي، تم تحديد 6 أقسام مفقودة:
1. **البرامج والكورسات** (`/programs`)
2. **الألعاب** (`/games`) 
3. **التطبيقات** (`/applications`)
4. **المسرحيات** (`/theater`)
5. **المصارعة** (`/wrestling`)
6. **الرياضة** (`/sports`)

## البنية التقنية
- **Frontend**: React + TypeScript + Tailwind CSS
- **Backend**: Express.js + TypeScript
- **Database**: JSON محلي (serverdb/database.json)
- **Authentication**: نظام مستخدمين بسيط
- **Storage**: نظام تخزين محلي مع ServerDBStorage

## الملفات الرئيسية
- `server/index.ts` - الخادم الرئيسي
- `server/serverdb-storage.ts` - نظام قاعدة البيانات
- `serverdb/database.json` - قاعدة البيانات المحلية
- `client/src/App.tsx` - التطبيق الرئيسي
- `client/src/components/layout/ak-sv-header.tsx` - الهيدر
- `client/src/components/home/ak-sv-homepage.tsx` - الصفحة الرئيسية

## تفضيلات المستخدم
- **اللغة**: العربية حصرياً
- **التصميم**: تطبيق ak.sv الأصلي بالكامل
- **التواصل**: لغة بسيطة ومفهومة
- **النشر**: رفع التغييرات على GitHub بعد كل تطوير
- **المخاوف الأساسية**: تجنب المشاكل والتضارب عند استيراد المشروع من GitHub
- **تفضيل الهيدر**: هيدر مبسط بدون شريط التنقل الفرعي
- **أولوية الاستقرار**: عدم تكرار نفس الإصلاحات عند الاستيراد من GitHub

## مشاكل يجب تجنبها عند الاستيراد من GitHub:
⚠️ **مشاكل LoadingSpinner**: التأكد من import صحيح في جميع الصفحات الجديدة
⚠️ **API endpoints مفقودة**: التأكد من وجود routes للأقسام الجديدة في server/routes.ts
⚠️ **شريط التنقل**: عدم إعادة إضافة شريط التنقل الفرعي في ak-sv-header.tsx
⚠️ **تعريف المتغيرات**: تجنب تكرار تعريف filters في صفحات الأقسام الجديدة

## التطويرات المكتملة (16 يوليو 2025)
✅ **إضافة الأقسام الستة المفقودة بطريقة آمنة:**
- ✅ إنشاء صفحات جديدة منفصلة (programs.tsx, games.tsx, applications.tsx, theater.tsx, wrestling.tsx, sports.tsx)
- ✅ إضافة أنواع محتوى جديدة (programs, games, applications, theater, wrestling, sports)
- ✅ تحديث قاعدة البيانات بمحتوى تجريبي (6 محتويات جديدة)
- ✅ إضافة المسارات والقوائم (تحديث App.tsx و ak-sv-homepage.tsx)
- ✅ إنشاء صور SVG مخصصة للأقسام الجديدة
- ✅ تحديث الصفحة الرئيسية لعرض جميع الأقسام العشرة

✅ **إصلاحات هامة تمت اليوم:**
- ✅ إصلاح LoadingSpinner import في جميع الصفحات الجديدة
- ✅ إضافة API endpoints للأقسام الجديدة في server/routes.ts
- ✅ إصلاح مشكلة تعريف المتغيرات المكررة في filters
- ✅ حذف شريط التنقل الفرعي من ak-sv-header.tsx (المنوعات، البرامج، الألعاب، إلخ)
- ✅ الاحتفاظ بالهيدر الأساسي: الشعار، البحث، "أهلاً بك، ضيف"

✅ **الميزات المتقدمة الجديدة (16 يوليو 2025):**
- ✅ إنشاء صفحة "أُضيف حديثاً" (`/recent`) مع فلاتر متقدمة
- ✅ إنشاء صفحة المشاهدة (`/watch`) مع مشغل فيديو ونظام تبليغ
- ✅ إضافة component الفلاتر المتقدمة مع جميع الخيارات الأصلية
- ✅ إضافة رابط "أُضيف حديثاً" للهيدر مع أيقونة الساعة
- ✅ تحسين صفحة الأفلام بالفلاتر المتقدمة
- ✅ إضافة زر المشاهدة في صفحة تفاصيل الفيلم
- ✅ إضافة API endpoint للمحتوى الجديد (`/api/content/recent`)

## ملاحظات مهمة
⚠️ **يجب عدم تكرار هذا الملف** - هذا الملف نظيف وحديث اعتباراً من 16 يوليو 2025
⚠️ **يجب الحفاظ على الميزات الحالية** - لا تعديل على الوظائف الموجودة
⚠️ **الأمان أولاً** - كل إضافة يجب أن تكون آمنة ومستقلة
⚠️ **تجنب التكرار**: إذا تم استيراد المشروع من GitHub، يجب مراجعة هذا الملف أولاً لتجنب تكرار الإصلاحات

## تسلسل GitHub والاستيراد
📝 **عند الاستيراد من GitHub:**
1. قراءة هذا الملف أولاً لفهم الحالة الحالية
2. فحص الملفات المذكورة في "الإصلاحات الهامة"
3. التأكد من وجود جميع الأقسام العشرة وعملها
4. عدم تكرار الإصلاحات المذكورة أعلاه