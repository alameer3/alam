const fs = require('fs');
const path = require('path');

// قراءة قاعدة البيانات الحالية
const databasePath = path.join(__dirname, 'database.json');
const currentData = JSON.parse(fs.readFileSync(databasePath, 'utf8'));

// إضافة محتوى جديد فقط
const newContent = [
  {
    id: 25,
    title: "Game of Thrones",
    title_arabic: "صراع العروش",
    description: "Nine noble families fight for control over the lands of Westeros, while an ancient enemy returns after being dormant for millennia.",
    description_arabic: "تسع عائلات نبيلة تتصارع من أجل السيطرة على أراضي ويستيروس، بينما يعود عدو قديم بعد أن كان نائماً لآلاف السنين.",
    type: "series",
    year: 2011,
    language: "English",
    quality: "4K",
    resolution: "2160p",
    rating: 9.3,
    duration: 57,
    episodes: 73,
    poster_url: "/serverdata/images/game-of-thrones.svg",
    video_url: null,
    download_url: null,
    trailer_url: null,
    imdb_id: "tt0944947",
    tmdb_id: null,
    rotten_tomatoes_score: null,
    metacritic_score: null,
    country: "USA",
    budget: null,
    box_office: null,
    awards: null,
    is_active: true,
    created_at: "2025-07-16T20:00:00.000Z",
    updated_at: "2025-07-16T20:00:00.000Z"
  },
  {
    id: 26,
    title: "Stranger Things",
    title_arabic: "أشياء غريبة",
    description: "When a young boy disappears, his mother, a police chief and his friends must confront terrifying supernatural forces in order to get him back.",
    description_arabic: "عندما يختفي صبي صغير، يجب على والدته ورئيس الشرطة وأصدقائه مواجهة قوى خارقة للطبيعة من أجل إعادته.",
    type: "series",
    year: 2016,
    language: "English",
    quality: "4K",
    resolution: "2160p",
    rating: 8.7,
    duration: 51,
    episodes: 42,
    poster_url: "/serverdata/images/stranger-things.svg",
    video_url: null,
    download_url: null,
    trailer_url: null,
    imdb_id: "tt4574334",
    tmdb_id: null,
    rotten_tomatoes_score: null,
    metacritic_score: null,
    country: "USA",
    budget: null,
    box_office: null,
    awards: null,
    is_active: true,
    created_at: "2025-07-16T20:00:00.000Z",
    updated_at: "2025-07-16T20:00:00.000Z"
  },
  {
    id: 27,
    title: "Avengers: Endgame",
    title_arabic: "المنتقمون: نهاية اللعبة",
    description: "After the devastating events of Avengers: Infinity War, the universe is in ruins due to the efforts of the Mad Titan, Thanos.",
    description_arabic: "بعد الأحداث المدمرة في المنتقمون: حرب اللانهاية، أصبح الكون في حالة خراب بسبب جهود العملاق المجنون، ثانوس.",
    type: "movie",
    year: 2019,
    language: "English",
    quality: "4K",
    resolution: "2160p",
    rating: 8.4,
    duration: 181,
    episodes: null,
    poster_url: "/serverdata/images/avengers-endgame.svg",
    video_url: null,
    download_url: null,
    trailer_url: null,
    imdb_id: "tt4154796",
    tmdb_id: null,
    rotten_tomatoes_score: null,
    metacritic_score: null,
    country: "USA",
    budget: null,
    box_office: null,
    awards: null,
    is_active: true,
    created_at: "2025-07-16T20:00:00.000Z",
    updated_at: "2025-07-16T20:00:00.000Z"
  },
  {
    id: 28,
    title: "عمر",
    title_arabic: "عمر",
    description: "A historical drama series about the life of Omar ibn al-Khattab, the second Caliph of Islam.",
    description_arabic: "مسلسل دراما تاريخي عن حياة عمر بن الخطاب، الخليفة الثاني للإسلام.",
    type: "series",
    year: 2012,
    language: "Arabic",
    quality: "HD",
    resolution: "1080p",
    rating: 9.1,
    duration: 45,
    episodes: 30,
    poster_url: "/serverdata/images/omar-series.svg",
    video_url: null,
    download_url: null,
    trailer_url: null,
    imdb_id: null,
    tmdb_id: null,
    rotten_tomatoes_score: null,
    metacritic_score: null,
    country: "Qatar",
    budget: null,
    box_office: null,
    awards: null,
    is_active: true,
    created_at: "2025-07-16T20:00:00.000Z",
    updated_at: "2025-07-16T20:00:00.000Z"
  },
  {
    id: 29,
    title: "The Mandalorian",
    title_arabic: "المانداليوري",
    description: "The travels of a lone bounty hunter in the outer reaches of the galaxy, far from the authority of the New Republic.",
    description_arabic: "رحلات صائد الجوائز الوحيد في المناطق الخارجية من المجرة، بعيداً عن سلطة الجمهورية الجديدة.",
    type: "series",
    year: 2019,
    language: "English",
    quality: "4K",
    resolution: "2160p",
    rating: 8.6,
    duration: 40,
    episodes: 24,
    poster_url: "/serverdata/images/mandalorian.svg",
    video_url: null,
    download_url: null,
    trailer_url: null,
    imdb_id: "tt8111088",
    tmdb_id: null,
    rotten_tomatoes_score: null,
    metacritic_score: null,
    country: "USA",
    budget: null,
    box_office: null,
    awards: null,
    is_active: true,
    created_at: "2025-07-16T20:00:00.000Z",
    updated_at: "2025-07-16T20:00:00.000Z"
  },
  {
    id: 30,
    title: "Top Gun: Maverick",
    title_arabic: "توب غان: مافيريك",
    description: "After thirty years, Maverick is still pushing the envelope as a top naval aviator, but must confront ghosts of his past when he leads TOP GUN's elite graduates on a mission that demands the ultimate sacrifice from those who choose to fly it.",
    description_arabic: "بعد ثلاثين عاماً، لا يزال مافيريك يتجاوز الحدود كطيار بحري من الدرجة الأولى، لكن يجب أن يواجه أشباح ماضيه عندما يقود خريجي TOP GUN النخبة في مهمة تتطلب التضحية النهائية من أولئك الذين يختارون الطيران فيها.",
    type: "movie",
    year: 2022,
    language: "English",
    quality: "4K",
    resolution: "2160p",
    rating: 8.3,
    duration: 130,
    episodes: null,
    poster_url: "/serverdata/images/top-gun-maverick.svg",
    video_url: null,
    download_url: null,
    trailer_url: null,
    imdb_id: "tt1745960",
    tmdb_id: null,
    rotten_tomatoes_score: null,
    metacritic_score: null,
    country: "USA",
    budget: null,
    box_office: null,
    awards: null,
    is_active: true,
    created_at: "2025-07-16T20:00:00.000Z",
    updated_at: "2025-07-16T20:00:00.000Z"
  }
];

// إضافة المحتوى الجديد إلى قاعدة البيانات
currentData.content.push(...newContent);

// حفظ قاعدة البيانات المحدثة
fs.writeFileSync(databasePath, JSON.stringify(currentData, null, 2), 'utf8');

console.log('✅ تم إضافة المحتوى الجديد بنجاح!');
console.log(`📊 إجمالي المحتوى: ${currentData.content.length} عنصر`);
console.log('📋 المحتوى الجديد المضاف:');
newContent.forEach((item, index) => {
  console.log(`${index + 1}. ${item.title_arabic} (${item.type}) - ${item.year}`);
});